<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="محطم العادات السيئة - تطبيق لمساعدتك في التغلب على العادات السيئة وبناء عادات صحية جديدة">
    <meta name="theme-color" content="#2196f3" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="محطم العادات">
    <meta name="apple-mobile-web-app-title" content="محطم العادات">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="/">
    <meta name="msapplication-TileColor" content="#4CAF50">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="محطم العادات السيئة | Habit Crusher">
    <meta property="og:description" content="تطبيق لمساعدتك في التغلب على العادات السيئة وبناء عادات صحية جديدة">
    <meta property="og:image" content="/icons/og-image.png">
    <meta property="og:type" content="website">
    
    <!-- Manifest and Icons -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style">
    <link rel="preload" href="script.js" as="script">
    
    <title>محطم العادات السيئة | Habit Crusher</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="light-mode">
    <!-- Skip to Main Content Link for Accessibility -->
    <a href="#main-content" class="skip-link">تخطي إلى المحتوى الرئيسي</a>

    <div class="theme-toggle" role="complementary" aria-label="تبديل السمة">
        <button id="themeToggle" aria-label="تغيير السمة بين الوضع الليلي والنهاري">
            <i class="fas fa-moon" aria-hidden="true"></i>
        </button>
    </div>

    <!-- Navigation Bar -->
    <nav class="main-nav" role="navigation" aria-label="القائمة الرئيسية">
        <div class="nav-container">
            <a href="#welcome" class="nav-link active" aria-current="page">
                <i class="fas fa-home" aria-hidden="true"></i>
                <span>الرئيسية</span>
            </a>
            <a href="#habitSelection" class="nav-link">
                <i class="fas fa-list-alt" aria-hidden="true"></i>
                <span>العادات السيئة</span>
            </a>
            <a href="#about" class="nav-link">
                <i class="fas fa-info-circle" aria-hidden="true"></i>
                <span>حول التطبيق</span>
            </a>
            <a href="#privacy" class="nav-link">
                <i class="fas fa-shield-alt" aria-hidden="true"></i>
                <span>سياسة الخصوصية</span>
            </a>
            <div class="notifications-menu">
                <button class="notifications-toggle" aria-label="الإشعارات" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-bell" aria-hidden="true"></i>
                    <span class="notifications-count" aria-label="عدد الإشعارات غير المقروءة">0</span>
                </button>
                <div class="notifications-list" role="dialog" aria-label="قائمة الإشعارات">
                    <div class="notifications-header">
                        <h3>الإشعارات</h3>
                        <button class="clear-notifications" aria-label="مسح جميع الإشعارات">
                            <i class="fas fa-trash-alt" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="notifications-content">
                        <div class="no-notifications">لا توجد إشعارات</div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Notification Container -->
    <div id="notificationContainer" class="notification-container" role="alert" aria-live="polite"></div>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Welcome Section -->
        <section id="welcome" class="section active" aria-labelledby="welcome-title">
            <div class="container">
                <h1 id="welcome-title">محطم العادات السيئة</h1>
                <h2>Habit Crusher</h2>
                <p>ابدأ رحلة التغيير اليوم. حول عاداتك السيئة إلى نجاحات يومية.</p>
                <button id="startButton" class="btn-primary" aria-label="ابدأ رحلة التغيير">ابدأ التغيير</button>
                <div class="features-grid" role="list">
                    <div class="feature-item" role="listitem">
                        <i class="fas fa-chart-line" aria-hidden="true"></i>
                        <span>إحصائيات</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <i class="fas fa-lightbulb" aria-hidden="true"></i>
                        <span>نصائح يومية</span>
                    </div>
                    <div class="feature-item" role="listitem">
                        <i class="fas fa-share-alt" aria-hidden="true"></i>
                        <span>مشاركة التقدم</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Habit Selection Section -->
        <section id="habitSelection" class="section" aria-labelledby="habit-selection-title">
            <div class="container">
                <button class="back-btn" data-target="welcome" aria-label="العودة إلى الصفحة الرئيسية">
                    <i class="fas fa-arrow-right" aria-hidden="true"></i>
                    <span>رجوع</span>
                </button>
                <h2 id="habit-selection-title">اختر العادة التي تريد التخلص منها</h2>
                
                <!-- Search Box -->
                <div class="search-container">
                    <div class="search-box" role="search">
                        <i class="fas fa-search" aria-hidden="true"></i>
                        <input type="text" 
                               id="habitSearch" 
                               placeholder="ابحث عن عادة..." 
                               aria-label="البحث عن عادة"
                               autocomplete="off">
                    </div>
                </div>

                <div class="habits-grid extended" role="list" aria-label="قائمة العادات السيئة">
                    <!-- Main Habits -->
                    <div class="habit-card" 
                         data-habit="smoking" 
                         role="listitem" 
                         tabindex="0"
                         aria-label="التدخين - التخلص من عادة التدخين وتحسين الصحة">
                        <i class="fas fa-smoking" aria-hidden="true"></i>
                        <h3>التدخين</h3>
                        <p>التخلص من عادة التدخين وتحسين الصحة</p>
                    </div>
                    
                    <div class="habit-card" data-habit="procrastination">
                        <i class="fas fa-clock"></i>
                        <h3>التسويف</h3>
                        <p>التغلب على تأجيل المهام وزيادة الإنتاجية</p>
                    </div>
                    
                    <div class="habit-card" data-habit="late-sleep">
                        <i class="fas fa-moon"></i>
                        <h3>السهر</h3>
                        <p>تنظيم مواعيد النوم وتحسين جودة الحياة</p>
                    </div>
                    
                    <div class="habit-card" data-habit="phone-addiction">
                        <i class="fas fa-mobile-alt"></i>
                        <h3>إدمان الهاتف</h3>
                        <p>تقليل استخدام الهاتف وتحسين التركيز</p>
                    </div>
                    
                    <div class="habit-card" data-habit="unhealthy-food">
                        <i class="fas fa-hamburger"></i>
                        <h3>الأكل غير الصحي</h3>
                        <p>تحسين العادات الغذائية والصحة العامة</p>
                    </div>
                    
                    <div class="habit-card" data-habit="negative-thinking">
                        <i class="fas fa-brain"></i>
                        <h3>التفكير السلبي</h3>
                        <p>تطوير نظرة إيجابية للحياة والذات</p>
                    </div>

                    <!-- Additional Habits -->
                    <div class="habit-card" data-habit="social-media">
                        <i class="fas fa-hashtag"></i>
                        <h3>إدمان مواقع التواصل</h3>
                        <p>تنظيم استخدام وسائل التواصل الاجتماعي</p>
                    </div>
                    
                    <div class="habit-card" data-habit="nail-biting">
                        <i class="fas fa-hand-paper"></i>
                        <h3>قضم الأظافر</h3>
                        <p>التخلص من عادة قضم الأظافر العصبية</p>
                    </div>
                    
                    <div class="habit-card" data-habit="impulse-buying">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>الشراء الاندفاعي</h3>
                        <p>تحسين القرارات المالية والتحكم في النفقات</p>
                    </div>
                    
                    <div class="habit-card" data-habit="interrupting">
                        <i class="fas fa-comment-slash"></i>
                        <h3>مقاطعة الآخرين</h3>
                        <p>تطوير مهارات الاستماع والتواصل</p>
                    </div>
                    
                    <div class="habit-card" data-habit="perfectionism">
                        <i class="fas fa-check-double"></i>
                        <h3>الكمالية المفرطة</h3>
                        <p>تحقيق التوازن بين الإتقان والإنجاز</p>
                    </div>
                    
                    <div class="habit-card" data-habit="self-criticism">
                        <i class="fas fa-comment-dots"></i>
                        <h3>النقد الذاتي المفرط</h3>
                        <p>تطوير علاقة صحية مع الذات</p>
                    </div>
                    
                    <div class="habit-card" data-habit="stress-eating">
                        <i class="fas fa-cookie-bite"></i>
                        <h3>الأكل العاطفي</h3>
                        <p>تحسين العلاقة بين الطعام والمشاعر</p>
                    </div>
                    
                    <div class="habit-card" data-habit="overthinking">
                        <i class="fas fa-brain"></i>
                        <h3>التفكير الزائد</h3>
                        <p>تبسيط التفكير واتخاذ القرارات</p>
                    </div>

                    <div class="habit-card" data-habit="porn-addiction">
                        <i class="fas fa-eye-slash"></i>
                        <h3>إدمان المحتوى الإباحي</h3>
                        <p>التعافي وبناء علاقات صحية</p>
                    </div>
                </div>

                <!-- No Results Message -->
                <div id="noResults" class="no-results" style="display: none;" role="alert">
                    <i class="fas fa-search" aria-hidden="true"></i>
                    <p>لم يتم العثور على نتائج</p>
                </div>
            </div>
        </section>

        <!-- Habit Info Section -->
        <section id="habitInfo" class="section" aria-labelledby="habitTitle">
            <div class="container">
                <button class="back-btn" 
                        data-target="habitSelection" 
                        aria-label="العودة إلى قائمة العادات">
                    <i class="fas fa-arrow-right" aria-hidden="true"></i>
                    <span>رجوع</span>
                </button>
                <div class="info-card">
                    <h2 id="habitTitle"></h2>
                    <div class="info-item definition">
                        <h3>التعريف</h3>
                        <p id="habitDefinition"></p>
                    </div>
                    <div class="info-content">
                        <div class="info-item">
                            <h3>الضرر</h3>
                            <p id="habitHarm"></p>
                        </div>
                        <div class="info-item">
                            <h3>التأثير</h3>
                            <p id="habitEffect"></p>
                        </div>
                        <div class="info-item">
                            <h3>حقيقة إحصائية</h3>
                            <p id="habitStat"></p>
                        </div>
                        <div class="motivation" aria-live="polite">
                            <p id="habitMotivation"></p>
                        </div>
                    </div>
                    <button id="startTracking" 
                            class="btn-primary"
                            aria-label="ابدأ تتبع تقدمك في التخلص من هذه العادة">
                        ابدأ التتبع
                    </button>
                </div>
            </div>
        </section>

        <!-- Progress Tracking Section -->
        <section id="progressTracking" class="section" aria-labelledby="progress-title">
            <div class="container">
                <button class="back-btn" data-target="habitInfo">
                    <i class="fas fa-arrow-right"></i>
                    رجوع
                </button>
                <h2>تتبع تقدمك</h2>
                <div class="progress-card">
                    <div class="streak-counter">
                        <h3>أيام النجاح المتتالية</h3>
                        <div class="streak-number" id="streakCount">0</div>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="motivation-message" id="motivationMessage"></div>
                    <button id="successButton" class="btn-success">نجحت اليوم! ✨</button>
                    
                    <div class="features-section">
                        <div class="daily-tip-section">
                            <h3>نصيحة اليوم</h3>
                            <div id="dailyTip" class="daily-tip-card"></div>
                        </div>

                        <div class="share-section">
                            <h3>شارك نجاحك</h3>
                            <div class="share-buttons">
                                <button id="shareProgress" class="btn-share">
                                    <i class="fas fa-share-alt"></i>
                                    مشاركة التقدم
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered successfully');
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>

    <!-- Main Script -->
    <script src="script.js" defer></script>
</body>
</html> 
